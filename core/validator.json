{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "CFO Reduction Schema",
  "version": "2.1",
  "description": "Строгая схема для геометрической редукции любого феномена",
  
  "type": "object",
  "required": ["id", "dimension", "primitive", "evidence"],
  
  "properties": {
    "id": {
      "type": "string",
      "pattern": "^urn:cfo:[a-z_]+:[a-z0-9_-]+$",
      "description": "Уникальный идентификатор редукции"
    },
    
    "dimension": {
      "type": "string",
      "enum": ["0D", "1D", "2D", "3D", "4D", "5D", "xD"],
      "description": "Базовое измерение феномена"
    },
    
    "primitive": {
      "type": "string",
      "enum": [
        "point",
        "line", 
        "triangle",
        "square",
        "circle",
        "tetrahedron",
        "cube",
        "sphere",
        "tesseract",
        "4-simplex",
        "24-cell",
        "120-cell",
        "600-cell",
        "ether"
      ],
      "description": "Геометрический примитив"
    },
    
    "element": {
      "type": "string",
      "enum": ["air", "fire", "water", "earth", "ether"],
      "description": "Элемент (опционально)"
    },
    
    "planes": {
      "type": "array",
      "items": {
        "type": "string",
        "enum": [
          "XY", "XZ", "YZ",
          "XW", "YW", "ZW",
          "XV", "YV", "ZV", "WV"
        ]
      },
      "minItems": 1,
      "description": "Активные плоскости"
    },
    
    "ops": {
      "type": "array",
      "items": {
        "type": "string",
        "enum": [
          "measure", "select", "distinguish",
          "sequence", "order", "traverse", "cause",
          "relate", "map", "compare", "pattern",
          "tessellate", "organize", "grid",
          "context", "contain", "integrate",
          "history", "record", "coordinate",
          "observe", "witness", "watch",
          "fold", "close", "saturate",
          "resonate", "sync", "entrain",
          "project", "slice", "reduce"
        ]
      },
      "minItems": 1,
      "description": "Операции феномена"
    },
    
    "evidence": {
      "type": "string",
      "minLength": 10,
      "description": "Обоснование маппинга форма→функция"
    },
    
    "confidence": {
      "type": "number",
      "minimum": 0,
      "maximum": 1,
      "description": "Уверенность в редукции"
    },
    
    "meta": {
      "type": "object",
      "properties": {
        "author": {"type": "string"},
        "date": {"type": "string", "format": "date"},
        "version": {"type": "string"},
        "tags": {
          "type": "array",
          "items": {"type": "string"}
        }
      }
    }
  }
}